{"version":3,"file":"static/js/815.b00c5bc7.chunk.js","mappings":"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","sources":["HOC/withAuthRedirect.jsx","webpack://my-app/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://my-app/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","webpack://my-app/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"sourcesContent":["import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Navigate } from \"react-router-dom\"\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    const RedirectComponent = (props) => {\r\n\r\n\r\n        if (!props.isAuth) return <Navigate to='/login' />\r\n\r\n        return <Component {...props} />\r\n\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__oMh4e\",\"posts\":\"MyPosts_posts__akUw3\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__TJtwx\"};","import React from 'react'\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src={'https://avatars.mds.yandex.net/i?id=d00a6fb936bd9fff05de6cabc7c4ccfc3d705469-8399918-images-thumbs&n=13'} alt=\"...\" />\r\n            {props.message}\r\n            <div><span>Like: {props.likesCount}</span></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React, { PureComponent } from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Textarea } from '../../common/FormsControls/FormsControls'\r\n\r\nconst AddNewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name='postText'\r\n                    placeholder='Add new post'\r\n                    component={Textarea} />\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n    let postsElement = props.posts.map(p => <Post message={p.post} likesCount={p.likesCount} key={p.id} />)\r\n    let addNewPost = (values) => {\r\n        let body = values.postText\r\n        props.addPostFunc(body)\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddNewPostRedux onSubmit={addNewPost} />\r\n            <div className={s.posts}>\r\n                {postsElement}\r\n            </div>\r\n        </div>)\r\n\r\n})\r\n\r\nconst AddNewPostRedux = reduxForm({ form: 'newPostText' })(AddNewPostForm)\r\n\r\nexport default MyPosts","import React from 'react'\r\nimport { addPostActionCreator, } from '../../../Redux/profile-reducer'\r\nimport MyPosts from './MyPosts'\r\nimport { connect } from \"react-redux\"\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPostFunc: (body) => {\r\n            dispatch(addPostActionCreator(body))\r\n        },\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__xBY7d\",\"userProfileAvatar\":\"ProfileInfo_userProfileAvatar__FnGsK\"};","import React, { useEffect, useState } from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateUserStatus(status)\r\n    }\r\n\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>Status: {props.status || 'The status is not set'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status} />\r\n                </div>\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react'\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from '../../common/preloader/Preloader';\r\nimport userPhoto from '../../../assest/img/user.jpeg'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = ({ profile, status, updateUserStatus, ...props }) => {\r\n\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    let userProfilePhoto = profile.data.photos.small\r\n    return (\r\n        <div>\r\n            <div className={s.descriptionBlock}>\r\n                <div className={s.profileInfo}>\r\n                    <img className={s.userProfileAvatar} src={!userProfilePhoto ? userPhoto : userProfilePhoto} alt='...' />\r\n                    <div>Name: {profile.data.fullName}</div>\r\n                    <div>About me: {profile.data.aboutMe}</div>\r\n                    <ProfileStatusWithHooks status={status} updateUserStatus={updateUserStatus} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import React from 'react'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus} />\r\n            <MyPostsContainer profile={props.profile} />\r\n        </div>)\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile';\r\nimport { connect } from \"react-redux\";\r\nimport { useLocation, useNavigate, useParams, } from \"react-router-dom\";\r\nimport { getUserProfile, getUserStatus, updateUserStatus } from '../../Redux/profile-reducer';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nfunction withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.router.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n            if (!userId) {\r\n                this.props.router.navigate('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getUserStatus(userId)\r\n\r\n    }\r\n    render() {\r\n        return <Profile\r\n            {...this.props}\r\n            profile={this.props.profile}\r\n            status={this.props.status}\r\n            updateStatus={this.props.updateUserStatus} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\n\r\nexport default\r\n    compose(\r\n        connect(mapStateToProps, { getUserProfile, getUserStatus, updateUserStatus }),\r\n        withRouter,\r\n    )(ProfileContainer)"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","props","to","className","s","src","alt","message","likesCount","MyPosts","React","postsElement","posts","map","p","post","id","AddNewPostRedux","onSubmit","values","body","postText","addPostFunc","reduxForm","form","handleSubmit","Field","name","placeholder","component","Textarea","profilePage","newPostText","dispatch","addPostActionCreator","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateUserStatus","autoFocus","profile","Preloader","userProfilePhoto","data","photos","small","userPhoto","fullName","aboutMe","ProfileContainer","userId","this","router","params","authorizedUserId","navigate","getUserProfile","getUserStatus","updateStatus","compose","location","useLocation","useNavigate","useParams"],"sourceRoot":""}